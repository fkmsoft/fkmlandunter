<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>fkmsoft/fkmlandunter @ GitHub</title>
	
	<style type="text/css">
		body {
  		margin-top: 1.0em;
  		background-color: #cccccc;
		  font-family: "Helvetica,Arial,FreeSans";
  		color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
		h1 { font-size: 3.8em; color: #333333; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #333333; }
    h3 { text-align: center; color: #333333; }
    a { color: #333333; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
	</style>
	
</head>

<body>
  <a href="http://github.com/fkmsoft/fkmlandunter"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/fkmsoft/fkmlandunter/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/fkmsoft/fkmlandunter/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/fkmsoft/fkmlandunter">fkmlandunter</a>
      <span class="small">by <a href="http://github.com/fkmsoft">fkmsoft</a></span></h1>

    <div class="description">
      Fkmlandunter is the implementation of a German card game called ``land unter''
as a computer game. As of now this whole thing is still under heavy development,
but we (the Fkmsoft Team) have already produced some things that actually
compile and can be run.
    </div>

    <p>

<img src="promo.png" alt="Screenshot of Fkmlandunter" />
<br><br><h2>0. What is working at the moment:</h2>

<ul>
<li>2 different servers (both implementing the same network protocol, see Appendix
  A for further details).</li>
<li>A cli based client using the ncurses library (needs ncurses-dev or the
  equivalent of your distro to compile).</li>
<li>A gui client based on python and pyqt4 (which you will need to run it, too)</li>
<li>A rather stupid AI called the random-ai, a.k.a. ``Randall''</li>
<li>The same AI but including a somewhat nicer gui hacked together in SDL.</li>
</ul>

What we still hope to produce is a quality gui client, that might look similar
to what you can already see in SDL-Randall, and a master server to keep track of
different game servers running all over the net.<br><br>

To Check progress visit: <a href="http://github.com/fkmsoft/fkmlandunter/">Our Github-Page</a><br><br>

<h2>1. The Servers:</h2>

<p align="justify">
The servers can be found in server/old/ and server/new/ respectively. As the
name indicates, one of them is the original one, while the other is a rather
cleaner and (hopefully) more understandable reimplementation. Both should be
functionally equivalent though, and possibly share some bugs, too (they did in
the past).</p>

<p align="justify">
To run any of them just execute the file called ``server'' after make'ing the
whole thing (either everything in one run from the top directory, or partially
from a subdirectory). The -h switch should tell you about most options, although
it is always a good idea to read the code (assuming you know some C) just to see
whether anything changed since the usage message string was last updated.</p>

<p align="justify">
In general, the servers will run port 1337 or anything else you care to #define
as PORT bound to any address.</p>


<h2>2. The Curses Client:</h2>
<img src="screenshot_ncurses.jpg" alt="Screenshot of Fkmlandunter(Ncurses)" /><br>

<p align="justify">
The curses client resides in the clients/curses/ subdirectory and requires the
curses development headers and (obviously) libcurses to be compiled and run.
After make'ing the thing, you can run the ``client'' executable from its
directory, it will connect to localhost port 1337 by default, but you can
specify another IP and port on the command line.</p>

<p align="justify">
The curses client supports the complete fkmlandunter protocol, although the
implementation of the chat has not been thoroughly debugged as of now.</p>


<h2>3. The Python Client:</h2>
<img src="screenshot_python.jpg" alt="Screenshot of Fkmlandunter(Python)" /><br>

<p align="justify">
The python client to be found in clients/pyqt does not require compiling, but
you will of course need python to run it, plus the pyqt4 library. It supports
the complete protocol and might be nicer to use than the curses client if you
prefer working with guis, but other than that it provides the same basic
functionality.</p>


<h2>4. The AI:</h2>

<p align="justify">
The only AI we have yet does nothing in any way intelligent, it rather plays any
cards it gets in the order they are initially in. It can be compiled and run
from clients/ai/random named ``random'' and connects to 127.0.0.1:1337 by
default, like all the other clients.</p>


<h2>5. The Test Environment:</h2>

<p align="justify">
The test environment in testenv/ was made for stress-testing and checking the
servers & AI clients (so only Randall, so far) for deadlocks and other bugs.
Just run ``testenv'' with the -h to learn more.</p>


<h2>6. The SDL Stuff:</h2>
<img src="screenshot_sdl.jpg" alt="Screenshot of Fkmlandunter(SDL)" /><br>

<p align="justify">
As of now you can find a general gui demo in clients/sdl/ called ``gui_test''
and an SDL implementation of Randall called ``randall''. Be sure to invoke them
from the clients/sdl directory, or else fix the #defines in gui_util.h so they
can find their graphics. See data/fkmlu/ for supported resolutions. To actually
start randall in gui mode, use the -g switch, and to have him play his cards on
key-press, so you can see more of the game, use the -i (interactive) switch.</p>

<p align="justify">
What we hope to produce here is a real client (like the curses or pyqt ones)
using a visual representation like SDL Randall.</p>


<h2>Appendix A - the fkmlandunter protocol:</h2>
-> LOGIN name<br>
<- ACK name<br>
<- JOIN name ****<br>
-> START<br>
<- START 3 nam1 nam2 nam3<br>
    <- DECK 1 2 56<br>
    <- RINGS 2 4 1<br>
    <- WEATHER 7 8<br>
    -> PLAY 56<br>
    <- ACK 56<br>
    <- FAIL 56<br>
    <- PLAYEd 1 25 60<br>
    <- WLEVELS 7 8 0<br>
    <- POINTS 1 2 -1<br><br>

-> LOGOUT bye<br>
<- LEAVE name i must go ****<br>
<- TERMINATE fuck off<br>
------<br>
-> MSG fu all los0rZ<br>
<- MSGFROM name fu all los0rZ<br><br>


<h2>Appendix B - Brief Game Description (German)</h2>

Spieleranzahl S von Kommandozeile auswerten, sonst 3;<br>
S Decks erstellen;<br>
S Spieler mit Punktzahl 0 erstellen;<br>
for i = 0 to S<br>
    Wasserstaende 0 setzen;<br>
    Decks zuweisen;<br>
    Den Spielern Decks geben;    // Kommunikation<br>
    Spieler auf lebendig setzen;<br>
        Wasserstapel mischen;<br>
    for j = 0 to 12<br>
        Den Spielern neue Wasserkarten zeigen;    // Kommunikation<br>
        Eingabe von Spielern lesen solange bis gueltig;<br>
                            // Kommunikation<br>
        Wasserstand der Spieler updaten;<br>
        Spieler mit hoechstem Wasserstand ermitteln und Ring<br>
            entfernen;<br>
        Spielern neue Wasserstaende mitteilen; // Kommunikation<br>
        Pruefen auf Wasserstand -1 - Spieler als Tot markieren;<br>
        Pruefen ob Anzahl lebender Spieler >= 2<br>
            wenn nicht Runde beenden;<br><br>

    Spieler mit niedrigstem Wasserstand ermitteln<br>
        +1 Punkt;<br>
    Wasserstand auf Punktzahl addieren;<br>
    Spielern Punktzahlen mitteilen; // evtl unnoetig ausser f. Markierung<br><br>

Platzierung ermitteln;<br>
Spielern Platzierung mitteilen;    // Kommunikation<br><br>

</p><h2>Install</h2>
<p>Take a look at the Main Project Text
</p>
<h2>License</h2>
<p>GPL</p>
<h2>Authors</h2>
<p align="justify">This whole stuff was produced by three students of Karlruhe Institute of
Technology as a leisure-time activity, so don't be surprised when development
comes to a halt at times, as we sometimes have exams and other things on our
mind - we are doing this far from full time. Our names would be<br><br>

Christoph Gielisch (m0l0t0ph), graphics & gui design<br>
Florian Kohnh√§user (flozilla), programming, protocol design<br>
Richard Molitor (gattschardo), programming, protocol design<br><br><br/><br/>      </p>

    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/fkmsoft/fkmlandunter/zipball/master">zip</a> or
      <a href="http://github.com/fkmsoft/fkmlandunter/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/fkmsoft/fkmlandunter</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/fkmsoft/fkmlandunter">fkmsoft/fkmlandunter</a>
    </div>

  </div>

  
</body>
</html>
